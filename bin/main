#!/usr/bin/env ruby
def display_board(array)
  position = 0
  while position < array.length
    if (position % 3).zero?
      print "\n"
      print "---+---+---+\n"
    end
    print " #{array[position]} |"
    position += 1
  end
  print "\n---+---+---+\n"
  print "\n\n\n\n"
end

def check_input(array, char, player, loc)
  while loc.is_a?(String)
    print "#{player}, choose a position from (0-8) to place in the board: "
    loc = gets.chomp.to_i
    if loc =~ /[0-8]/ && loc.to_i.between?(0, 8) && loc.to_i.abs < array.length
      loc = loc.to_i
      array[loc] = char
      display_board(array)
    elsif loc.to_i > array.length
      print 'This number is too greater,choose a position from (0-8): '
      loc = gets.chomp
    end
  end
end

used = []
system("cls") || system("clear")
board = %w[0 1 2 3 4 5 6 7 8]
puts "Welcome to our amazing Tic Tac Toe !!\n\n\n"

print 'Pseudo of Player 1: '
player1 = gets.chomp
print "\nWhich character do you want to use #{player1}?: "
character1 = gets.chomp
system("cls") || system("clear")

print 'Pseudo of Player 2: '
player2 = gets.chomp
print "\nWhich character do you want to use #{player2}?: "
character2 = gets.chomp
system("cls") || system("clear")

print "Great ! #{player1} and #{player2} let start the battle !!\n\n\n\n"
display_board(board)

i = 0
locate = ''
while i < (board.length / 2).to_i
  check_input(board, character1, player1, locate)
  check_input(board, character2, player2, locate)
  i += 1
end
